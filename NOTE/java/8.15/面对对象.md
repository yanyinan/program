# 面向对象

## 抽象数据类型

### 面向对象的基本概念

#### 面向对象

面向对象程序设计（`OOP`）是一种基于对象概念的软件开发方法。

#### 面向对象三大特性：

封装、继承、多态

#### 对象

在面向对象的世界中认为万事万物皆为对象。

> 对象的简单理解就是真实存在的具体的个体。

#### 类

类是具有相同的状态和相同行为的一组对象的集合

> 类的简单理解就是代表多个的统称，而不是具体个体。

#### 类和对象的关系

类和对象的关系就如同模具和利用这个模具制作出来的物品之间的关系。一个类给出它的全部对象的一个统一的定义，而它的每个对象则是符合这个定义的一个实体（也称作实例），因此类和对象的关系就是抽象和具体的关系。类是多个对象进行综合抽象的结果，是实体对象的概念模型，而一个对象就是一个类的实例。

### 定义类

类是由字段和方法构成的。

![img](https://s2.loli.net/2023/08/16/mzT4ADWQl1prPw9.png)

#### 定义

语法：

```java
public class ClassName {
    // 成员变量
    private dataType variableName;

    // 构造方法
    public ClassName() {
        // 初始化操作
    }

    // 成员方法
    public void methodName(dataType parameter) {
        // 方法体
    }
}

```

#### 类的字段

类的内部包含字段和方法、对象所拥有的特征在类中表示时称为类的字段，字段使用变量表示。

定义语法：

```java
[访问修饰符] 数据类型 字段名;
```

#### 类的方法

对象执行操作的行为称为类的方法。

### 创建和使用对象

#### 创建对象

类是一类事物的集合和抽象，代表着这类事物共有的字段和行为。一个对象称为类的一个实例。

类的对象可以调用类中的成员。

创建对象的语法：

```java
类名 对象名 = new 类名();
```

#### 使用对象

在`java`中，要引用对象的字段和方法，需要使用成员运算符`.`

使用语法：

```java
对象名.属性//引用对象的字段
对象名.方法名()//引用对象的方法
```

> 对象的指针分配在栈中，对象的实例分配在堆中

## 对象的构造和初始化

调用构造方法时，步骤如下

1. 分配新对象的空间，并进行默认的初始化。
2. 执行显式的成员初始化。
3. 执行构造方法。

### 成员变量

#### 成员变量的作用域

类中低端是直接定义在类的内部、方法的外部的变量。称为成员变量。

成员变量的作用域是整个类。

#### 显式成员初始化

如果在成员说明中鞋油简单的复制表达式，就可以在构造对象时进行显示的成员初始化。

演示：

```java
public class CarTest{
	public static void main(String[] args){
		Car c1 = new Car();//创建对象并将地址赋给变量c1
		c1.run();//对象的引用c1调用函数run();
		Car c2 = new Car();//创建对象并将地址赋给变量c2
		c2.run();//对象的引用c2调用函数run();
		Car c3 = new Car();//创建对象并将地址赋给变量c3
		c3.brand="BYD";//将"BYD"赋给成员变量brand
		c3.run();//c3再次调用run()
	}
}
class Car{
	String brand="BMW";//成员变量 品牌=BMW
	char color='b';//成员变量 颜色=b
	public void run(){
		System.out.println("品牌:"+brand+" 颜色:"+color);
	}
}

```

#### 局部变量的作用域

局部变量就是定义在方法内部的变量。

局部方法只能在方法内部使用。

#### 成员变量、局部变量的区别

1. **作用域不同。**局部变量的作用域仅限定于定义它的方法，在该方法外无法被访问。成员变量的作用域是在整个类中，所有的成员方法都可以使用它。。如果访问权限允许，还有可以在类外部使用成员变量。
2. **初始值不同。**对于成员变量，如果在类定义中没有给它赋予初始值，`java`会给它赋予默认值。但不贵给局部变量赋予，因此局部变量在使用前必须初始化。
3. 在同一个方法中不允许有同名的局部变量，在不同的方法中可以有同名的局部变量。
4. 局部变量可以和成员变量名相同，并且在使用时局部变量有更高的优先级。

#### 按值传递

参数是在方法定义中声明的变量，用于接收传递给方法的值，而实参则是在方法调用时传递给方法的具体值。

### 构造方法

在Java中，**当创建一个类的对象时，会自动调用该类的构造方法**。构造方法分为**默认构造方法**和**自定义构造方法**。构造方法是一种特殊的实例方法，具有特殊的功能。它的名称与类名相同，**没有返回值**，并且在使用n**ew关键字创建对象实例时会自动被调用**。

#### 构造方法的定义

构造方法的作用是为成员变量的初始化。

定义构造方法的语法格式：

```java
[访问修饰符] 方法名([参数列表]){
	//省略方法体的代码
}
```

在缺少自定义构造方法的情况下，`Java`会**自动添加**一个默认构造方法。<u>该默认方法不带任何参数</u>。

**默认构造方法的参数列表及方法体均为空，所生成的对象的属性值也为零或空**

#### 方法的重载

##### 定义

方法重载是指在一个类中定义多个同名的方法，但要求每个方法具有不同的参数类型或参数个数或参数顺序。

##### 特点

- 在同一个类中
- 参数的个数或者类型或者顺序不同
- 方法的返回值不能作为方法是否构成重载的依据

##### 调用

在调用时，根据实参与形参在类型、个数、顺序一一匹配的规则调用。

##### 优点

是对原有方法的一种升级，可以根据参数的不同，采用不同的实现方法，而且不需要编写多个名称，简化了调用方法的代码。

#### 构造方法的重载

构造方法也可以同普通方法一样进行重载。

### 内存管理

#### 垃圾回收



#### 内存分配



#### 内存管理技术



## 包的使用

### 概述

包是类的容器，利用包来划分名字空间， 用于分割类名空间，以避免类名冲突。

包主要有以下3个方面的作用：

1. 存放类：包中能够存放类，易于找到和使用相应的类文件。
2. 防止命名冲突：`Java`中只有在不同的包中的类才能重名。
3. 包允许在更广的范围内保护类、数据和方法。

### 定义

语法

```
package 包名;
```

> 一个唯一的包名前缀通常是全部小写的`ASCLL`字母。
>
> 不能以`JAVA`或`Javax`开头

### tips

1. 声明包的含义是声明当前类所在的包。
2. 导入包的含义是声明当前类要使用到其他类所在的包。
3. 使用非同包下的类需要显导报或者使用全限定类名
4. 同包下或子包下的类不需要导包
5. `java.lang `包下的类不需要导包

## 访问修饰符

### 类和类成员的访问控制

访问修饰符有3个（4种）。`public`、`protected`、`package-access(包访问修饰符)`、`private`

> public访问修饰符

被该修饰符修饰的成员变量和成员方法可以在所有类中访问。

> protected访问修饰符

被该修饰符修饰的成员变量和成员方法可以在声明它的类中访问，在该类的子类中访问，也可以在与该类位于同一个包中的类访问，但不能再位于其他包的非子类中访问。

> package-access(包访问修饰符)

缺省指不使用权限修饰符。不使用权限修饰符修饰的成员变量和成员方法可以在声明它的类中访问，也可以在该类位于同一个包中的类访问，但不能位于其他包的类（包括子类）中访问。

>private访问修饰符

被该修饰符修饰的成员变量和成员方法只能在声明他们的类中访问，而不能再其它类（包括子类）中访问。

#### 1、类的访问修饰符

|                                | 同一包中 |  不同包中  |
| :----------------------------: | :------: | :--------: |
|            `public`            | 可以使用 |  可以使用  |
| `package-access(包访问修饰符)` | 可以使用 | 不可以使用 |

#### 2、类成员的访问修饰符

|       位置       | public | protected | 包访问修饰符 | private |
| :--------------: | :----: | :-------: | :----------: | :-----: |
|     同类访问     |  true  |   true    |     true     |  true   |
|  同包其他类访问  |  true  |   true    |     true     |  false  |
|   同包子类访问   |  true  |   true    |     true     |  false  |
|  不同包子类访问  |  true  |   true    |    false     |  false  |
| 不同包非子类访问 |  true  |   false   |    false     |  false  |

### static关键字



## 封装

## 继承

## 多态